# =============================================================================
# JANMITRA ENVIRONMENT CONFIGURATION
# =============================================================================
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Replace ALL placeholder values with actual secrets
# 3. NEVER commit .env to version control
# =============================================================================

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================

# CRITICAL: Generate with: python -c "import secrets; print(secrets.token_urlsafe(50))"
SECRET_KEY=REPLACE_WITH_GENERATED_SECRET_KEY

# Set to False for production/demo
DEBUG=False

# Comma-separated list of allowed hosts
# Include your server IP and domain name
ALLOWED_HOSTS=localhost,127.0.0.1,YOUR_SERVER_IP,your-domain.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

DATABASE_ENGINE=django.db.backends.postgresql
DATABASE_NAME=janmitra_db
DATABASE_USER=janmitra_user
DATABASE_PASSWORD=REPLACE_WITH_STRONG_DATABASE_PASSWORD
DATABASE_HOST=db
DATABASE_PORT=5432

# =============================================================================
# JWT CONFIGURATION
# =============================================================================

# CRITICAL: Generate separate key: python -c "import secrets; print(secrets.token_urlsafe(50))"
JWT_SECRET_KEY=REPLACE_WITH_DIFFERENT_JWT_SECRET_KEY

# Token lifetimes (increase for demo convenience)
# Access token: 60 minutes for demo (15 for high-security)
JWT_ACCESS_TOKEN_LIFETIME_MINUTES=120

# Refresh token: 7 days
JWT_REFRESH_TOKEN_LIFETIME_DAYS=7

# =============================================================================
# ENCRYPTION CONFIGURATION
# =============================================================================

# CRITICAL: Generate with: python -c "import base64, secrets; print(base64.b64encode(secrets.token_bytes(32)).decode())"
MASTER_ENCRYPTION_KEY=REPLACE_WITH_32_BYTE_BASE64_ENCODED_KEY

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Set to False when using HTTP (IP-only deployment without SSL)
# Set to True when using HTTPS (domain with SSL certificate)
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# CSRF trusted origins (include http:// or https:// prefix)
# CRITICAL for admin panel to work
CSRF_TRUSTED_ORIGINS=http://YOUR_SERVER_IP,http://localhost,https://your-domain.com

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# For mobile-only (no browser): set CORS_ALLOW_ALL_ORIGINS=True
# For browser + mobile: list exact origins with scheme
CORS_ALLOW_ALL_ORIGINS=True
CORS_ALLOWED_ORIGINS=http://34.229.130.142,http://localhost

# =============================================================================
# FILE UPLOAD SETTINGS
# =============================================================================

# Maximum upload size in bytes (500MB for video)
DATA_UPLOAD_MAX_MEMORY_SIZE=524288000
FILE_UPLOAD_MAX_MEMORY_SIZE=524288000

# =============================================================================
# AUDIT CONFIGURATION
# =============================================================================

# Retention in days (~7 years for compliance)
AUDIT_LOG_RETENTION_DAYS=2555

# =============================================================================
# GUNICORN SETTINGS
# =============================================================================

GUNICORN_WORKERS=4
GUNICORN_LOG_LEVEL=info
GUNICORN_BIND=0.0.0.0:8000

# =============================================================================
# DEMO-SPECIFIC NOTES
# =============================================================================
# 
# FOR IP-ONLY DEMO (no domain, no SSL):
# - SECURE_SSL_REDIRECT=False
# - SESSION_COOKIE_SECURE=False
# - CSRF_COOKIE_SECURE=False
# - ALLOWED_HOSTS includes your IP
# - CSRF_TRUSTED_ORIGINS=http://YOUR_IP
#
# FOR DOMAIN + SSL:
# - SECURE_SSL_REDIRECT=True
# - SESSION_COOKIE_SECURE=True
# - CSRF_COOKIE_SECURE=True
# - ALLOWED_HOSTS includes your domain
# - CSRF_TRUSTED_ORIGINS=https://your-domain.com
#
# =============================================================================
